{"version":3,"sources":["webpack:///./index.js"],"names":["textRef","document","querySelector","inputRef","addEventListener","debounce","event","fetch","target","value","then","response","json","data","length","alert","append","map","elem","name","createElement","textContent","createList","card","country","capital","population","flag","classList","add","src","languages","element","list","createCountryDescription"],"mappings":"gNAKMA,G,UAAUC,SAASC,cAAc,UAEjCC,GADKF,SAASC,cAAc,MACjBD,SAASC,cAAc,UAkCxCC,EAASC,iBAAiB,QAASC,KAMnC,SAAiBC,GACfC,MAAM,yCAAyCD,EAAME,OAAOC,OAASC,MACnE,SAAAC,GAAQ,OACNA,EAASC,OAAOF,MAAK,SAAAG,GACfA,EAAKC,OAAS,IAChBC,gBACE,yEAGAF,EAAKC,OAAS,GAAKD,EAAKC,QAAU,IACpCd,EAAQgB,OAAR,MAAAhB,EAhDS,SAAAa,GAAI,OACrBA,EAAKI,KAAI,SAAAC,GACP,IAAMC,EAAOlB,SAASmB,cAAc,KAEpC,OADAD,EAAKE,YAAcH,EAAKC,KACjBA,KA4CiBG,CAAWT,IAEX,IAAhBA,EAAKC,QACPd,EAAQgB,OAAR,MAAAhB,EA5CuB,SAAAa,GAAI,OACnCA,EAAKI,KAAI,SAAAC,GACP,IAAMK,EAAOtB,SAASmB,cAAc,OAC9BI,EAAUvB,SAASmB,cAAc,OACvCI,EAAQH,YAAcH,EAAKC,KAC3B,IAAMM,EAAUxB,SAASmB,cAAc,KACvCK,EAAQJ,YAAR,YAAkCH,EAAKO,QACvC,IAAMC,EAAazB,SAASmB,cAAc,KAC1CM,EAAWL,YAAX,eAAwCH,EAAKQ,WAC7C,IAAMC,EAAO1B,SAASmB,cAAc,OACpCO,EAAKC,UAAUC,IAAI,QACnBF,EAAKG,IAAMZ,EAAKS,KAChB,IAAMI,EAAY9B,SAASmB,cAAc,MAUzC,OATAW,EAAUV,YAAV,aACAU,EAAUf,OAAV,MAAAe,EACKb,EAAKa,UAAUd,KAAI,SAAAe,GACpB,IAAMC,EAAOhC,SAASmB,cAAc,MAEpC,OADAa,EAAKZ,YAAcW,EAAQb,KACpBc,MAGXV,EAAKP,OAAOW,EAAMH,EAASC,EAASC,EAAYK,GACzCR,KAsBiBW,CAAyBrB,UAhBnDb,EAAQqB,YAAc,KAH6B,Q","file":"main.8b46581cff2b93f19726.js","sourcesContent":["import './styles.css';\nimport debounce from 'lodash.debounce';\nimport { alert } from '@pnotify/core';\nimport '@pnotify/core/dist/PNotify.css';\n\nconst textRef = document.querySelector('.text');\nconst h1 = document.querySelector('h1');\nconst inputRef = document.querySelector('input');\n\nconst createList = data =>\n  data.map(elem => {\n    const name = document.createElement('p');\n    name.textContent = elem.name;\n    return name;\n  });\n\nconst createCountryDescription = data =>\n  data.map(elem => {\n    const card = document.createElement('div');\n    const country = document.createElement('div');\n    country.textContent = elem.name;\n    const capital = document.createElement('p');\n    capital.textContent = `capital: ${elem.capital}`;\n    const population = document.createElement('p');\n    population.textContent = `population: ${elem.population}`;\n    const flag = document.createElement('img');\n    flag.classList.add('flag');\n    flag.src = elem.flag;\n    const languages = document.createElement('ul');\n    languages.textContent = `languages:`;\n    languages.append(\n      ...elem.languages.map(element => {\n        const list = document.createElement('li');\n        list.textContent = element.name;\n        return list;\n      }),\n    );\n    card.append(flag, country, capital, population, languages);\n    return card;\n  });\n\ninputRef.addEventListener('input', debounce(onInput, 500));\n\nfunction clear() {\n  textRef.textContent = '';\n}\n\nfunction onInput(event) {\n  fetch(`https://restcountries.eu/rest/v2/name/${event.target.value}`).then(\n    response =>\n      response.json().then(data => {\n        if (data.length > 10) {\n          alert(\n            'Слишком много совпадений! Необходимо сделать запрос более специфичным',\n          );\n        }\n        if (data.length > 1 && data.length <= 10) {\n          textRef.append(...createList(data));\n        }\n        if (data.length === 1) {\n          textRef.append(...createCountryDescription(data));\n        }\n      }),\n  );\n  clear();\n}\n"],"sourceRoot":""}